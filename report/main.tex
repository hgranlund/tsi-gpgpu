%----------------------------------------------------------
\documentclass[a4paper, english, 12pt, twoside, titlepage]{article} %two-sided
\usepackage{babel, fancyhdr, amsmath, amsfonts, amssymb, graphicx, float, enumerate, hyperref}
\usepackage[utf8]{inputenc}
\usepackage[portrait,pdftex]{geometry}
%Theorem and definitions formatting
\usepackage{amsthm}

%prettier references
\usepackage{natbib}

\usepackage[autostyle]{csquotes}

% To use appendix envoronment
\usepackage[title,titletoc]{appendix}
%nomenclature
\usepackage{nomencl}
\makenomenclature
\renewcommand{\nomname}{List of abbreviations and definitions}

%used to get  figure, table and equation-numbers show the section they belong to, like ``Figure 2.1``
\numberwithin{figure}{section}
\numberwithin{table}{section}
\numberwithin{equation}{section}

%nicer captionsv
\usepackage[font=small,format=plain,labelfont=bf,up,textfont=it,up]{caption}
\usepackage{fancyhdr}
\setlength{\headheight}{15pt}

% Regluar style, with top and bottom rulers, section name at top
% and title and page number at bottom, set up for two-sided printing
\fancypagestyle{mystyle}{
	\fancyhf{} % remove everything
	\fancyhead[RO,LE]{\nouppercase\leftmark} %section name in lowercase
	\fancyfoot[LO]{\mytitle} %Title of paper
	\fancyfoot[RE]{Stud.techn. \myauthorA, Stud.techn. \myauthorB} % Name of author
	\fancyfoot[LE,RO]{\thepage} % Print page number
	\renewcommand{\headrulewidth}{0.5pt} % Ruler at top
	\renewcommand{\footrulewidth}{0.5pt}% Ruler at boottom
	\addtolength{\headheight}{15pt} % make space for the rule
}

% Plain style, just page number, set up for two-sided printing
\fancypagestyle{plain}{ %
	\fancyhead{} % get rid of headers on plain pages
	\renewcommand{\headrulewidth}{0pt} % and the line
	\fancyfoot{} % get rid of footers on plain pages
	\renewcommand{\footrulewidth}{0pt} % and the line
	\fancyfoot[LE,RO]{\thepage} % Print page number
}


% this package adds clickable links to http addresses and footnotes
\usepackage{hyperref}

%set links to be painted in black
\hypersetup{colorlinks,
linkcolor=black,
filecolor=black,
urlcolor=black,
citecolor=black}

% this package makes url's breakable with hyperref (but loses the cyan boxes)
\usepackage{breakurl}
\usepackage{multirow}
\usepackage{subfigure}
% Change margins for two-sided
\oddsidemargin 1.0cm
\evensidemargin 0.0cm

% Define aothor and title
\newcommand{\myauthorA}{Simen Haugerud Granlund}
\newcommand{\myauthorB}{Teodor Ande Elstad}
\newcommand{\mytitle}{Utilizing general-purpose computing on graphic processing units (gpgpu) for engineering algorithm speed up}

%Style to definition and RQ's
\newtheoremstyle{def}% name
  {.5\baselineskip\@plus.2\baselineskip\@minus.2\baselineskip}% Space above
  {.5\baselineskip\@plus.2\baselineskip\@minus.2\baselineskip}% Space below
  {\slshape}% Body font
  {\parindent}%Indent amount (empty = no indent, \parindent = para indent)
  {\bfseries}%  Thm head font
  {.}%       Punctuation after thm head
  { }%      Space after thm head: " " = normal interword space;
        %       \newline = linebreak
  {}%       Thm head spec


\theoremstyle{def}
% Define definition label
\newtheorem{mydef}{Definition}

% Define reserch question label
\newtheorem{myrq}{RQ}
\usepackage[parfill]{parskip}

%to include pdf
\usepackage{pdfpages}

%To inclode source code filed
\usepackage{listings}
\newcommand\pythonexternal[1]{{
\pythonstyle
\lstinputlisting{#1}}}

% Python environment
\lstnewenvironment{python}[1][]
{
\pythonstyle
\lstset{#1}
}
{}

% Python environment
\lstnewenvironment{bash}[1][]
{
\pythonstyle
\lstset{#1, language=bash}
}
{}

% Clisp environment
\lstnewenvironment{clisp}[1][]
{
\lstset{#1,language=Lisp}
}
{}

% josn environment
\lstnewenvironment{json}[1][]
{
\lstset{#1,language=json}
}
{}

% Default fixed font does not support bold face
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{12} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{12}  % for normal

% Custom colors
\usepackage{color}
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}

% Python style for highlighting
\newcommand\pythonstyle{\lstset{
language=Python,
basicstyle=\ttm,
breaklines=true,
otherkeywords={self},             % Add keywords here
keywordstyle=\ttb\color{deepblue},
emph={MyClass,__init__},          % Custom highlighting
emphstyle=\ttb\color{deepred},    % Custom highlighting style
stringstyle=\color{deepgreen},
showstringspaces=false            %
}}
%Json Syntax
\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
}
%---------------------------------------------------------
\begin{document}

\pagestyle{empty}
\include{./tex/titlepage}
\newpage

% A blank page to let the paper start on an odd-numbered page
\mbox{}
\newpage

% Roman numerals (I,II,II..) for the first pages
\pagenumbering{roman}
% Plain Style (only print page number)
\pagestyle{plain}

%
\includepdf[fitpaper=true, pages={1,2}]{assignment.pdf}
\newpage
% \include{./tex/assignment}
% \newpage

% The abstract page (included)
\include{./tex/abstract}
\newpage


% The preface page (included)
\include{./tex/preface}
\newpage

% Prints nomenclature, to change the title of this edit
% the \renewcommand{\nomname}{List of abbreviations and definitions} in the preamble
\printnomenclature
\newpage

% Table of contents, includes only section and subsection
\setcounter{tocdepth}{2}
\tableofcontents

% List figures and tables
\newpage
\listoffigures
\listoftables

% Assure that the main content starts on an odd-numbered page
\cleardoublepage

% Use arabic (1,2,3) page numbering
\pagenumbering{arabic}

% Custom style, print name, title, section name and page number
\pagestyle{mystyle}

% include chapters
\include{./tex/introduction}
\include{./tex/background}
\include{./tex/the_quest_for_a_faster_kNN_search}
\include{./tex/final_results_discussion_and_conclusion}
% include content
%\include{./tex/test}

% References
% Add a ''References`` entry in TOC
\addcontentsline{toc}{section}{References}
\bibliographystyle{plain}
\bibliography{./bib/refbib}

% Appendix, starts on an odd-numbered page
\cleardoublepage
% Appendix uses plain style (only page numbers)
\pagestyle{plain}
% start appendix
\begin{appendices}
\appendix
\include{./tex/appendix}
\end{appendices}

\end{document}
